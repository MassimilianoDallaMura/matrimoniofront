<div style="margin-top: 70px; margin-left: 10px; margin-right: 10px; padding-bottom: 100px; height: 100%; overflow: auto;">
  <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 20px; width: 100%;">
    <h2 style="text-transform: uppercase; text-align: center; flex-grow: 1;">comunicaciones</h2>
  </div>

  <!-- Mostra un indicatore di caricamento mentre i messaggi vengono caricati -->
  <div *ngIf="!messaggiCaricati" style="text-align: center; margin-top: 50px;">
    <p>cargando mensajes...</p>
  </div>

  <!-- Contenitore per visualizzare i messaggi con ordine inverso -->
  <div *ngIf="messaggiCaricati" style="display: flex; flex-direction: column-reverse; margin-bottom: 140px;">
    <div *ngFor="let messaggio of messaggi; let i = index" 
         [ngStyle]="{ 'background-color': getColore(i) }" 
         style="margin-bottom: 10px; border: 1px solid #ddd; padding: 10px; border-radius: 8px;">
      <!-- Mostra nome e cognome dell'autore -->
      <p><strong>{{ messaggio.autore.firstName }} {{ messaggio.autore.lastName }}</strong> - {{ messaggio.timestamp | date:'short' }}</p>
      <h5>{{ messaggio.testo }}</h5>
    </div>
  </div>

  <!-- Campo input -->
  <div style="position: fixed; bottom: 0; padding-bottom: 100px; left: 10px; right: 10px; background: transparent; box-sizing: border-box;">
    <textarea [(ngModel)]="nuovoMessaggio" placeholder="Escribe un mensaje..." style="width: 100%; height: 100px; border-radius: 8px;"></textarea>
    <button (click)="inviaMessaggio()" style="color: #df914c; border-radius: 4px;">Enviar</button>
  </div>
</div>
